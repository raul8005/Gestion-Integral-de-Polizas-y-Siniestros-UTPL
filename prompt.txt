ActÃºa como un desarrollador backend experto en Django y modelado de datos.

Estoy desarrollando un sistema de seguros de bienes donde los bienes pueden ser reparados o reemplazados como resultado de un siniestro.

ğŸ“Œ PROBLEMA ACTUAL

Cuando un bien es marcado como REEMPLAZADO:

Se crea un nuevo bien con nuevo cÃ³digo / serie / marca / modelo

âŒ El bien original permanece en la base de datos

Como resultado:

Ambos bienes aparecen en:

Selectores

Listas

BÃºsquedas

Esto provoca duplicaciÃ³n incorrecta

ğŸ¯ OBJETIVO

Corregir el flujo de reemplazo para que:

El bien original NO quede duplicado

El sistema refleje correctamente que el bien fue reemplazado

Solo el bien vÃ¡lido aparezca en:

Selectores

Listados

BÃºsquedas

ğŸ” COMPORTAMIENTO REQUERIDO
Cuando un bien es REEMPLAZADO:
OpciÃ³n preferida (recomendada):

El bien original debe:

Cambiar su estado a INACTIVO

NO aparecer en selectores ni bÃºsquedas

El nuevo bien debe:

Crearse como ACTIVO

Ser el Ãºnico visible y seleccionable

El siniestro debe:

Guardar referencia al nuevo bien

Registrar que hubo un reemplazo

ğŸ—ƒï¸ REQUISITOS TÃ‰CNICOS

Django ORM

Uso de transacciones (transaction.atomic)

Filtros correctos en queries:

Mostrar solo bienes con estado = ACTIVO

Evitar borrado fÃ­sico si no es necesario

ğŸ“Œ RESULTADO ESPERADO

No existen bienes duplicados en el sistema

El bien original reemplazado:

Queda INACTIVO

No aparece en selectores

El nuevo bien:

Es el Ãºnico visible

El flujo es consistente y mantenible

Entrega la soluciÃ³n con explicaciÃ³n clara y ejemplos de implementaciÃ³n en Django.